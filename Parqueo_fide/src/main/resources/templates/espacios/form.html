<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
    <head th:replace="~{layout/plantilla :: head}">
        <title th:text="${espacio.id} != null ? 'Editar espacio' : 'Nuevo espacio'">Espacio</title>
    </head>
    <body class="d-flex flex-column min-vh-100" 
          style="background: url('/images/fide_paisaje.png') no-repeat center center fixed; background-size: cover;">

        <header th:replace="~{layout/plantilla :: header}"></header>

        <main class="container-fluid d-flex justify-content-center align-items-center flex-grow-1">

            <div class="row justify-content-center w-100">
                <div class="col-12 col-md-8 col-lg-6">

                    <div class="card shadow-lg p-4" 
                         style="background-color: rgba(108, 117, 125, 0.85); color: white; border-radius: 12px;">

                        <h3 class="mb-4 text-center" 
                            th:text="${espacio.id} != null ? 'Editar espacio' : 'Nuevo espacio'"></h3>

                        <form th:action="@{/espacios/guardar}" th:object="${espacio}" method="post">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                            <input type="hidden" th:field="*{id}"/>

                            <div class="mb-3">
                                <label class="form-label">Código</label>
                                <input type="text" class="form-control" th:field="*{codigo}" required maxlength="20">
                                <div class="text-warning small" th:if="${#fields.hasErrors('codigo')}" th:errors="*{codigo}"></div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Zona</label>
                                <input type="text" class="form-control" th:field="*{zona}" maxlength="50" placeholder="Ej: Norte, Piso 2">
                            </div>

                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" th:field="*{disponible}">
                                <label class="form-check-label">Disponible</label>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Descripción</label>
                                <textarea class="form-control" th:field="*{descripcion}" rows="3" maxlength="255"></textarea>
                            </div>

                            <div class="d-flex gap-2 justify-content-end">
                                <button class="btn btn-primary" type="submit">Guardar</button>
                                <a th:href="@{/espacios/listado}" class="btn btn-secondary">Cancelar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </main>

        <footer th:replace="~{layout/plantilla :: footer}"></footer>

    </body>
</html>